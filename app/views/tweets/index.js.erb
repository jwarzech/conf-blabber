/* TODO
 * 1. Clear the existing tweets
 * 2. Don't allow new tweets to go into containers from last set
*/

<% unless @tweets.nil? %>
	var usedIndexes = new Array();
	var index;
	
	<% @tweets.each do |tweet| %>
		do
		{
			index = Math.floor(Math.random() * 15)
		} while($.inArray(index, usedIndexes) > -1)

		usedIndexes.push(index)
		
		$($('.tweet-container')[index]).html("<%= escape_javascript(raw render(tweet)) %>").show('puff');
	<% end %>
<% end %>
$('#latest_tweet').val("<%= escape_javascript(raw @latest_tweet) %>")

